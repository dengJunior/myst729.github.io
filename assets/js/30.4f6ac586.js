(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{93:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"notepad-小技巧-–-调用-nodejs-模块编译-压缩-css-和-javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notepad-小技巧-–-调用-nodejs-模块编译-压缩-css-和-javascript","aria-hidden":"true"}},[t._v("#")]),t._v(" Notepad++ 小技巧 – 调用 NodeJS 模块编译/压缩 CSS 和 JavaScript")]),a("p",[a("a",{attrs:{href:"http://learnboost.github.io/stylus/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stylus")]),t._v(" 是一个 CSS 预处理工具。"),a("a",{attrs:{href:"http://lisperator.net/uglifyjs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("UglifyJS")]),t._v(" 是一个 JavaScript 压缩/格式化工具。两者均运行于 "),a("a",{attrs:{href:"http://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeJS")]),t._v(" 环境。本文不准备过多介绍 NodeJS 或 Stylus、UglifyJS，只讲如何在 "),a("a",{attrs:{href:"http://notepad-plus-plus.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Notepad++")]),t._v(" 中调用它们。")]),a("p",[t._v("首先从 NodeJS 官网下载 Windows 版本安装包。安装完成后打开 NodeJS 命令行工具，输入 "),a("code",[t._v("npm install stylus -g")]),t._v(" 和 "),a("code",[t._v("npm install uglify-js -g")]),t._v("，安装 "),a("a",{attrs:{href:"https://npmjs.org/package/stylus",target:"_blank",rel:"noopener noreferrer"}},[t._v("stylus")]),t._v(" 和 "),a("a",{attrs:{href:"https://npmjs.org/package/uglify-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("uglify-js")]),t._v(" 两个包。")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-install-npm.png",alt:"npm install"}})]),a("p",[t._v("默认情况下，这两个包会被安装到 "),a("code",[t._v("C:\\Users\\[用户名]\\node_modules")]),t._v(" 目录。而在 "),a("code",[t._v("C:\\Users\\[用户名]\\node_modules\\.bin")]),t._v(" 目录可以看到对应的命令行文件。")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-cmd-tool.png",alt:"ncommand-cmd-tool"}})]),a("p",[t._v("接下来我们准备一个简单的 styl 范例")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-example-styl.png",alt:"ncommand-example-styl"}})]),a("p",[t._v("通过 stylus 命令行工具进行编译")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-stylus-compile.png",alt:"ncommand-stylus-compile"}})]),a("p",[t._v("编译完成会在同一目录下生成一个 CSS 文件")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-example-compiled.png",alt:"ncommand-example-compiled"}})]),a("p",[t._v("也可以通过参数改变编译选项，比如 "),a("code",[t._v("-c")]),t._v(" 是指编译并压缩")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-example-compressed.png",alt:"ncommand-example-compressed"}})]),a("p",[t._v("还可以指定输出的文件名")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-example-output.png",alt:"ncommand-example-output"}})]),a("p",[t._v("接下来，我们要做的事，就是在 Notepad++ 里定义快捷键来完成上面的工作。打开 Notepad++ 的“运行”菜单，选择“运行”命令（快捷键 F5）")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-run.png",alt:"ncommand-run"}})]),a("p",[t._v("就会弹出“运行”对话框")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-run-command.png",alt:"ncommand-run-command"}})]),a("p",[t._v("把我们刚才用过的命令行直接输入并运行（注意别忘了 cmd 文件的完整路径），就可以完成对 styl 的编译和压缩任务。")]),a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\stylus.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-c")]),t._v(" < C:\\n++\\example.styl > C:\\n++\\example-min.css")]),t._v("\n")])]),a("p",[t._v("这样就够了吗？当然不够，我们还需要更智能的操作——自动获取当前文件的路径和文件名，否则每个文件都手敲一次会疯的。")]),a("p",[t._v("查阅 Notepad++ 的"),a("a",{attrs:{href:"http://npp-community.tuxfamily.org/documentation/notepad-user-manual/commands",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线文档")]),t._v("，我们可以找到几个有用的变量，这样我们可以把上面的命令重写成这个样子：")]),a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\stylus.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-c")]),t._v(" < $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" > $"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("CURRENT_DIRECTORY")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\\$"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("NAME_PART")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("-min.css\n")])]),a("p",[t._v("再次打开“运行”对话框，输入命令后点击“保存”按钮，就会打开“快捷键”对话框。输入命令的名称，以及快捷键（可选），保存这个命令")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-save-command.png",alt:"ncommand-save-command"}})]),a("p",[t._v("以后就可以在“运行”菜单中直接调用而无需输入了。如果保存时指定了快捷键，更可以一键运行命令。")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-command-saved.png",alt:"ncommand-command-saved"}})]),a("p",[t._v("名字敲错了？快捷键设置得不好按？没问题，打开“运行”菜单下的“管理快捷键”对话框，改到顺手为止。")]),a("p",[a("img",{attrs:{src:"https://myst729.github.io/blog/images/2013/05/ncommand-shortcut-mapper.png",alt:"ncommand-shortcut-mapper"}})]),a("p",[t._v("遗憾的是，你不能在 Notepad++ 里修改已保存命令的内容。这些命令都保存在 "),a("code",[t._v("C:\\Users\\[用户名]\\AppData\\Roaming\\Notepad++\\shortcuts.xml")]),t._v("。要修改命令的内容，必须用其他编辑器打开这个文件。另一个比较笨的办法是删除旧命令，新建一个。")]),a("p",[t._v("同样的，对于 UglifyJS，我们可以在 Notepad++ 中保存下面这条命令，来对 JavaScript 进行压缩。")]),a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\uglifyjs.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-m")]),t._v(" < $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" > $"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("CURRENT_DIRECTORY")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\\$"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("NAME_PART")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("-min.js\n")])]),a("p",[t._v("好了，下面是我自己用的几个命令，伸手党们赶紧的啦~")]),a("pre",{pre:!0,attrs:{class:"language-batch"}},[a("code",[t._v("// Stylus Compiler：编译 styl 为 css\n"),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\stylus.cmd")]),t._v(" $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n \n// Stylus Compressor：编译 styl 并压缩输出 css\n"),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\stylus.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-c")]),t._v(" < $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" > $"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("CURRENT_DIRECTORY")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\\$"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("NAME_PART")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("-min.css\n \n// UglifyJS Beautifier：格式化 js\n"),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\uglifyjs.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-b")]),t._v(" < $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" > $"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("CURRENT_DIRECTORY")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\\$"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("NAME_PART")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("-src.js\n \n// UglifyJS Compressor：压缩 js，混淆标识符\n"),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("C")]),a("span",{attrs:{class:"token label property"}},[t._v(":\\Users\\[用户名]\\node_modules\\.bin\\uglifyjs.cmd")]),t._v(" "),a("span",{attrs:{class:"token parameter attr-name"}},[t._v("-m")]),t._v(" < $(FULL_CURRENT_PATH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" > $"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("CURRENT_DIRECTORY")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\\$"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token command"}},[a("span",{attrs:{class:"token keyword"}},[t._v("NAME_PART")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("-min.js\n")])]),a("p",[t._v("-完-")])])}],!1,null,null,null);s.default=e.exports}}]);